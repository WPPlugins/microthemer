jQuery(document).ready(function(a){function t(a){return!isNaN(parseFloat(a))&&isFinite(a)}var e={url:"https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBY_w3-Yj6T54CQP5RNZrruBHEvwenEOmU",order:a("#sort-order").attr("rel"),page:parseInt(a("#page-num").attr("rel")),start:parseInt(a("#start-slice").attr("rel")),end:parseInt(a("#end-slice").attr("rel")),total:0,totalPages:0,resultsPerPage:parseInt(a("#results-per-page").attr("rel")),pageNav:"<ul>",family:"",fontList:"<ul>",dummyText:"Grumpy wizards make toxic brew for the evil Queen and Jack.",first:!0,str:"",chosenVariant:"",formatVariant:function(a){a.addClass("active").siblings().removeClass("active");var r=a.parents("li.font-entry").find("div.font"),n=a.text().split(" "),s=n[0];t(s)?r.css("font-weight",s):"Normal"==s&&r.css("font-weight","normal"),"italic"==s||n[1]&&"italic"==n[1]?r.css("font-style","italic"):r.css("font-style","normal"),e.chosenVariant="("+a.text().trim()+")"},insertFont:function(a){var t=a.attr("rel"),r=a.closest(".font-entry").find("span.variant.active").length;(""==e.chosenVariant||r<1)&&(e.chosenVariant="(400 normal)"),t=t+" "+e.chosenVariant,window.parent.TvrMT.TvrUi.insert_google_font(t)},handle_ajax_error:function(t,e){0==t.status?(a("#ajax-message, #loading-gif").hide(),alert("Connection Error. Request Failed. Please Try again.")):404==t.status?(a("#ajax-message, #loading-gif").hide(),alert("Requested URL not found.")):500==t.status?(a("#ajax-message, #loading-gif").hide(),alert("Internel Server Error.")):"parsererror"==e?(a("#ajax-message, #loading-gif").hide(),alert("Error.\nParsing JSON Request failed.")):"timeout"==e?(a("#ajax-message, #loading-gif").hide(),alert("Request Timed out.")):(a("#ajax-message, #loading-gif").hide(),alert("Unknow Error.\n"+t.responseText))}};a.ajax({type:"GET",url:e.url,data:"sort="+e.order,dataType:"jsonp",async:!0,timeout:2e4,error:function(a,t){e.handle_ajax_error(a,t)},success:function(t){e.total=t.items.length,e.totalPages=Math.ceil(e.total/e.resultsPerPage),e.totalPages==e.page&&a("#next-page").hide();for(var r=1;r<=e.totalPages;r++)r==e.page?e.pageNav+="<li><span>"+r+"</span></li>":e.pageNav+='<li><a href="?page='+r+"&order="+e.order+'">'+r+"</a></li>";e.pageNav+="</ul>";var r=0;for(num in t.items)if(!(num<e.start)){if(num>=e.end)break;if(++r,r==e.resultsPerPage)var n="last";else var n="";var s=t.items[num].family;e.fontList+='<li class="font-entry '+n+'">',e.fontList+='<div class="font" style="font-family:\''+s+"';\">"+e.dummyText+"</div>",e.fontList+='<span class="font-name">'+s+' - <span class="link use-font" rel="'+s+'">Use This Font </span></span>';var i=t.items[num].variants.join('</span> | <span class="variant link">');i='<span class="variant link">'+i.replace(/italic/g," italic").replace("regular","Normal 400"),i+="</span>",e.fontList+=' <span class="font-variants">'+i+"</span>",e.fontList+="</li>",e.first?e.first=!1:e.family+="|",e.family+=t.items[num].family.replace(" ","+")}a("#google-fonts").attr("href","//fonts.googleapis.com/css?family="+e.family),a("#output").html(e.fontList),a("#pagination").html(e.pageNav)},complete:function(){}}),a("#order").change(function(){window.location="?page="+e.page+"&order="+a(this).val()}),a("#output").click(function(t){var r=a(t.target);try{if(n=r.attr("class"),!n)var n="tvr-undefined"}catch(s){}n.indexOf("variant")>=0&&e.formatVariant(r),n.indexOf("use-font")>=0&&e.insertFont(r)})});